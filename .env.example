# 56k Knowledge Hub - Environment Configuration Template
# Copy this file to .env and fill in your actual values

# ============= CLAUDE AI CONFIGURATION =============
# Get your API key from: https://console.anthropic.com
CLAUDE_API_KEY=sk-ant-api03-your-key-here

# ============= GOOGLE OAUTH CONFIGURATION =============
# Get these from: https://console.cloud.google.com
GOOGLE_CLIENT_ID=your-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=GOCSPX-your-client-secret

# Domain restriction for Google Workspace
ALLOWED_DOMAIN=56k.agency

# ============= CLICKUP OAUTH CONFIGURATION (Optional) =============
# Get these from: https://app.clickup.com/settings/apps
CLICKUP_CLIENT_ID=your-clickup-client-id
CLICKUP_CLIENT_SECRET=your-clickup-client-secret

# ============= SERVER CONFIGURATION =============
# Port for the backend server
PORT=3000

# Frontend URL (where your frontend is served)
FRONTEND_URL=http://localhost:8080

# Session secret (generate a random string)
SESSION_SECRET=your-super-secret-session-key-change-this

# Environment
NODE_ENV=development

# ============= DATABASE CONFIGURATION =============
# SQLite database path (default)
DB_PATH=./data/knowledge_hub.db

# For MySQL/PostgreSQL (optional)
# DB_TYPE=mysql
# DB_HOST=localhost
# DB_PORT=3306
# DB_NAME=knowledge_hub
# DB_USER=your_db_user
# DB_PASS=your_db_password

# ============= LOGGING CONFIGURATION =============
LOG_LEVEL=info
LOG_PATH=./logs
LOG_RETENTION_DAYS=30

# ============= CACHE CONFIGURATION (Optional) =============
# REDIS_URL=redis://localhost:6379
# CACHE_TTL=3600

# ============= RATE LIMITING =============
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX=100

# ============= CORS CONFIGURATION =============
CORS_ORIGIN=http://localhost:8080

# ============= DRIVE / FILE PARSING =============
# Maximum bytes to download from Drive files (default 10485760 = 10MB)
DRIVE_MAX_BYTES=10485760
# Drive export / cache TTL in seconds
DRIVE_CACHE_TTL=600
# Maximum characters to keep from Drive exports
DRIVE_EXPORT_MAX_CHARS=20000
# Enable parsing of PDF / Office files (true/false)
ENABLE_PDF_PARSE=true

# ============= CLICKUP CACHE =============
CLICKUP_CACHE_TTL=3600

# ============= ENRICHMENT / FETCH LIMITS =============
# Maximum number of Drive files to fetch per query
MAX_DRIVE_FILES_TO_FETCH=3
# Maximum number of ClickUp tasks to enrich with details
MAX_CLICKUP_TASKS_ENRICH=3

# ============= SECURITY / TOKENS =============
# Base64 encoded 32-byte key used to encrypt persisted refresh tokens (recommended)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
TOKEN_ENC_KEY=

# Admin user email (optional) - if set, only this email is allowed to manage admin settings
ADMIN_EMAIL=

# Threshold of refresh-token errors to trigger alerts/logging (optional)
ALERT_THRESHOLD_REFRESH_ERRORS=5